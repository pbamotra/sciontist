!function(){function t(t,e){var i=document.getElementById("search-results");if(t.length){for(var n="",r=0;r<t.length;r++){var o=e[t[r].ref];n+='<li><a href="'+o.url+'"><h3>'+o.title+"</h3></a>",n+="<p>"+o.content.substring(0,150)+"...</p></li>"}i.innerHTML=n}else i.innerHTML="<li>No results found</li>"}function e(t){for(var e=window.location.search.substring(1),i=e.split("&"),n=0;n<i.length;n++){var r=i[n].split("=");if(r[0]===t)return decodeURIComponent(r[1].replace(/\+/g,"%20"))}}var i=e("query");if(i){document.getElementById("search-box").setAttribute("value",i);var n=lunr(function(){this.field("id"),this.field("title",{boost:10}),this.field("author"),this.field("category"),this.field("content")});for(var r in window.store){n.add({id:r,title:window.store[r].title,author:window.store[r].author,category:window.store[r].category,content:window.store[r].content});var o=n.search(i);t(o,window.store)}}}();
